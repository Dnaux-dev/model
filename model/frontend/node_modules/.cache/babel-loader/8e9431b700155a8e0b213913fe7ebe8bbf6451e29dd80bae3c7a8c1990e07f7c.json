{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\model\\\\model\\\\frontend\\\\src\\\\components\\\\VideoFeed.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VIDEO_WIDTH = 640;\nconst VIDEO_HEIGHT = 480;\nfunction VideoFeed() {\n  _s();\n  const [alerts, setAlerts] = useState([]);\n  const [latestAlert, setLatestAlert] = useState(null);\n  const [zone, setZone] = useState(null); // {x1, y1, x2, y2}\n  const [drawing, setDrawing] = useState(false);\n  const [startPoint, setStartPoint] = useState(null);\n  const [endPoint, setEndPoint] = useState(null);\n  const videoRef = useRef();\n  const canvasRef = useRef();\n\n  // Fetch current zone from backend on mount\n  useEffect(() => {\n    fetch('http://localhost:8000/zones').then(res => res.json()).then(data => {\n      if (data.zones && data.zones.length > 0) {\n        const [x1, y1, x2, y2] = data.zones[0];\n        setZone({\n          x1,\n          y1,\n          x2,\n          y2\n        });\n      }\n    });\n  }, []);\n\n  // Poll alerts\n  useEffect(() => {\n    const fetchAlerts = async () => {\n      const loiterRes = await fetch('http://localhost:8000/loitering_alerts');\n      const intrusionRes = await fetch('http://localhost:8000/intrusion_alerts');\n      const loiterData = await loiterRes.json();\n      const intrusionData = await intrusionRes.json();\n      let allAlerts = [];\n      if (loiterData.loitering_alerts) {\n        allAlerts = allAlerts.concat(loiterData.loitering_alerts.map(a => ({\n          type: 'loitering',\n          id: a.track_id,\n          time: new Date(a.entry_time * 1000).toLocaleTimeString(),\n          duration: a.duration ? a.duration.toFixed(1) : null\n        })));\n      }\n      if (intrusionData.intrusion_alerts) {\n        allAlerts = allAlerts.concat(intrusionData.intrusion_alerts.map(a => ({\n          type: 'intrusion',\n          id: a.track_id,\n          time: new Date(a.entry_time * 1000).toLocaleTimeString()\n        })));\n      }\n      // Sort by time descending\n      allAlerts.sort((a, b) => b.time.localeCompare(a.time));\n      setAlerts(allAlerts);\n      setLatestAlert(allAlerts[0] || null);\n    };\n    fetchAlerts();\n    const interval = setInterval(fetchAlerts, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Draw overlays (zone, drawing rectangle)\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    // Draw zone\n    if (zone) {\n      ctx.strokeStyle = 'red';\n      ctx.lineWidth = 3;\n      ctx.strokeRect(zone.x1, zone.y1, zone.x2 - zone.x1, zone.y2 - zone.y1);\n    }\n    // Draw current drawing rectangle\n    if (drawing && startPoint && endPoint) {\n      ctx.strokeStyle = 'blue';\n      ctx.lineWidth = 2;\n      const x = Math.min(startPoint.x, endPoint.x);\n      const y = Math.min(startPoint.y, endPoint.y);\n      const w = Math.abs(startPoint.x - endPoint.x);\n      const h = Math.abs(startPoint.y - endPoint.y);\n      ctx.strokeRect(x, y, w, h);\n    }\n  }, [zone, drawing, startPoint, endPoint]);\n\n  // Mouse event handlers for drawing zone\n  const handleCanvasMouseDown = e => {\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = Math.round(e.clientX - rect.left);\n    const y = Math.round(e.clientY - rect.top);\n    setDrawing(true);\n    setStartPoint({\n      x,\n      y\n    });\n    setEndPoint({\n      x,\n      y\n    });\n  };\n  const handleCanvasMouseMove = e => {\n    if (!drawing) return;\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = Math.round(e.clientX - rect.left);\n    const y = Math.round(e.clientY - rect.top);\n    setEndPoint({\n      x,\n      y\n    });\n  };\n  const handleCanvasMouseUp = async e => {\n    if (!drawing) return;\n    setDrawing(false);\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x2 = Math.round(e.clientX - rect.left);\n    const y2 = Math.round(e.clientY - rect.top);\n    const x1 = startPoint.x;\n    const y1 = startPoint.y;\n    // Normalize coordinates\n    const zoneCoords = {\n      x1: Math.min(x1, x2),\n      y1: Math.min(y1, y2),\n      x2: Math.max(x1, x2),\n      y2: Math.max(y1, y2)\n    };\n    setZone(zoneCoords);\n    // Send to backend\n    await fetch('http://localhost:8000/set_zone', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(zoneCoords)\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    position: \"relative\",\n    width: VIDEO_WIDTH,\n    height: VIDEO_HEIGHT,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      ref: videoRef,\n      src: \"http://localhost:8000/video_feed\",\n      alt: \"Video Feed\",\n      width: VIDEO_WIDTH,\n      height: VIDEO_HEIGHT,\n      style: {\n        display: 'block'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: VIDEO_WIDTH,\n      height: VIDEO_HEIGHT,\n      style: {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        pointerEvents: 'auto',\n        zIndex: 2\n      },\n      onMouseDown: handleCanvasMouseDown,\n      onMouseMove: handleCanvasMouseMove,\n      onMouseUp: handleCanvasMouseUp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      sx: {\n        position: 'absolute',\n        top: 16,\n        right: 16,\n        zIndex: 3\n      },\n      onClick: () => {\n        setZone(null);\n        setStartPoint(null);\n        setEndPoint(null);\n      },\n      children: \"Draw Zone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), latestAlert && /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 6,\n      sx: {\n        position: 'absolute',\n        top: 24,\n        left: '50%',\n        transform: 'translateX(-50%)',\n        bgcolor: latestAlert.type === 'intrusion' ? 'error.main' : 'warning.main',\n        color: 'white',\n        px: 4,\n        py: 2,\n        fontSize: 24,\n        zIndex: 10,\n        minWidth: 320,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        fontWeight: \"bold\",\n        children: latestAlert.type === 'intrusion' ? `ZONE INTRUSION ALERT!` : `LOITERING DETECTED!`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Person ID: \", latestAlert.id, latestAlert.type === 'loitering' && latestAlert.duration ? ` (Duration: ${latestAlert.duration}s)` : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        children: latestAlert.time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        width: '100%',\n        bgcolor: 'rgba(0,0,0,0.7)',\n        color: 'white',\n        px: 2,\n        py: 1,\n        maxHeight: 120,\n        overflowY: 'auto'\n      },\n      children: alerts.map((alert, idx) => /*#__PURE__*/_jsxDEV(Typography, {\n        fontSize: 14,\n        children: [\"[\", alert.time, \"] \", alert.type === 'intrusion' ? 'Zone intrusion' : 'Loitering', \" - Person ID: \", alert.id, alert.type === 'loitering' && alert.duration ? ` (Duration: ${alert.duration}s)` : '']\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n_s(VideoFeed, \"nuIEZ7vEJOUm/I0mxySitxDpjGw=\");\n_c = VideoFeed;\nexport default VideoFeed;\nvar _c;\n$RefreshReg$(_c, \"VideoFeed\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Box","Paper","Typography","Button","jsxDEV","_jsxDEV","VIDEO_WIDTH","VIDEO_HEIGHT","VideoFeed","_s","alerts","setAlerts","latestAlert","setLatestAlert","zone","setZone","drawing","setDrawing","startPoint","setStartPoint","endPoint","setEndPoint","videoRef","canvasRef","fetch","then","res","json","data","zones","length","x1","y1","x2","y2","fetchAlerts","loiterRes","intrusionRes","loiterData","intrusionData","allAlerts","loitering_alerts","concat","map","a","type","id","track_id","time","Date","entry_time","toLocaleTimeString","duration","toFixed","intrusion_alerts","sort","b","localeCompare","interval","setInterval","clearInterval","canvas","current","ctx","getContext","clearRect","width","height","strokeStyle","lineWidth","strokeRect","x","Math","min","y","w","abs","h","handleCanvasMouseDown","e","rect","getBoundingClientRect","round","clientX","left","clientY","top","handleCanvasMouseMove","handleCanvasMouseUp","zoneCoords","max","method","headers","body","JSON","stringify","position","children","ref","src","alt","style","display","fileName","_jsxFileName","lineNumber","columnNumber","pointerEvents","zIndex","onMouseDown","onMouseMove","onMouseUp","variant","color","sx","right","onClick","elevation","transform","bgcolor","px","py","fontSize","minWidth","textAlign","fontWeight","bottom","maxHeight","overflowY","alert","idx","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/model/model/frontend/src/components/VideoFeed.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from '@mui/material/Button';\r\n\r\nconst VIDEO_WIDTH = 640;\r\nconst VIDEO_HEIGHT = 480;\r\n\r\nfunction VideoFeed() {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [latestAlert, setLatestAlert] = useState(null);\r\n  const [zone, setZone] = useState(null); // {x1, y1, x2, y2}\r\n  const [drawing, setDrawing] = useState(false);\r\n  const [startPoint, setStartPoint] = useState(null);\r\n  const [endPoint, setEndPoint] = useState(null);\r\n  const videoRef = useRef();\r\n  const canvasRef = useRef();\r\n\r\n  // Fetch current zone from backend on mount\r\n  useEffect(() => {\r\n    fetch('http://localhost:8000/zones')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.zones && data.zones.length > 0) {\r\n          const [x1, y1, x2, y2] = data.zones[0];\r\n          setZone({ x1, y1, x2, y2 });\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  // Poll alerts\r\n  useEffect(() => {\r\n    const fetchAlerts = async () => {\r\n      const loiterRes = await fetch('http://localhost:8000/loitering_alerts');\r\n      const intrusionRes = await fetch('http://localhost:8000/intrusion_alerts');\r\n      const loiterData = await loiterRes.json();\r\n      const intrusionData = await intrusionRes.json();\r\n      let allAlerts = [];\r\n      if (loiterData.loitering_alerts) {\r\n        allAlerts = allAlerts.concat(\r\n          loiterData.loitering_alerts.map(a => ({\r\n            type: 'loitering',\r\n            id: a.track_id,\r\n            time: new Date(a.entry_time * 1000).toLocaleTimeString(),\r\n            duration: a.duration ? a.duration.toFixed(1) : null\r\n          }))\r\n        );\r\n      }\r\n      if (intrusionData.intrusion_alerts) {\r\n        allAlerts = allAlerts.concat(\r\n          intrusionData.intrusion_alerts.map(a => ({\r\n            type: 'intrusion',\r\n            id: a.track_id,\r\n            time: new Date(a.entry_time * 1000).toLocaleTimeString()\r\n          }))\r\n        );\r\n      }\r\n      // Sort by time descending\r\n      allAlerts.sort((a, b) => b.time.localeCompare(a.time));\r\n      setAlerts(allAlerts);\r\n      setLatestAlert(allAlerts[0] || null);\r\n    };\r\n    fetchAlerts();\r\n    const interval = setInterval(fetchAlerts, 1000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Draw overlays (zone, drawing rectangle)\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    // Draw zone\r\n    if (zone) {\r\n      ctx.strokeStyle = 'red';\r\n      ctx.lineWidth = 3;\r\n      ctx.strokeRect(zone.x1, zone.y1, zone.x2 - zone.x1, zone.y2 - zone.y1);\r\n    }\r\n    // Draw current drawing rectangle\r\n    if (drawing && startPoint && endPoint) {\r\n      ctx.strokeStyle = 'blue';\r\n      ctx.lineWidth = 2;\r\n      const x = Math.min(startPoint.x, endPoint.x);\r\n      const y = Math.min(startPoint.y, endPoint.y);\r\n      const w = Math.abs(startPoint.x - endPoint.x);\r\n      const h = Math.abs(startPoint.y - endPoint.y);\r\n      ctx.strokeRect(x, y, w, h);\r\n    }\r\n  }, [zone, drawing, startPoint, endPoint]);\r\n\r\n  // Mouse event handlers for drawing zone\r\n  const handleCanvasMouseDown = (e) => {\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x = Math.round((e.clientX - rect.left));\r\n    const y = Math.round((e.clientY - rect.top));\r\n    setDrawing(true);\r\n    setStartPoint({ x, y });\r\n    setEndPoint({ x, y });\r\n  };\r\n\r\n  const handleCanvasMouseMove = (e) => {\r\n    if (!drawing) return;\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x = Math.round((e.clientX - rect.left));\r\n    const y = Math.round((e.clientY - rect.top));\r\n    setEndPoint({ x, y });\r\n  };\r\n\r\n  const handleCanvasMouseUp = async (e) => {\r\n    if (!drawing) return;\r\n    setDrawing(false);\r\n    const rect = canvasRef.current.getBoundingClientRect();\r\n    const x2 = Math.round((e.clientX - rect.left));\r\n    const y2 = Math.round((e.clientY - rect.top));\r\n    const x1 = startPoint.x;\r\n    const y1 = startPoint.y;\r\n    // Normalize coordinates\r\n    const zoneCoords = {\r\n      x1: Math.min(x1, x2),\r\n      y1: Math.min(y1, y2),\r\n      x2: Math.max(x1, x2),\r\n      y2: Math.max(y1, y2)\r\n    };\r\n    setZone(zoneCoords);\r\n    // Send to backend\r\n    await fetch('http://localhost:8000/set_zone', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(zoneCoords)\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box position=\"relative\" width={VIDEO_WIDTH} height={VIDEO_HEIGHT}>\r\n      {/* Video feed */}\r\n      <img\r\n        ref={videoRef}\r\n        src=\"http://localhost:8000/video_feed\"\r\n        alt=\"Video Feed\"\r\n        width={VIDEO_WIDTH}\r\n        height={VIDEO_HEIGHT}\r\n        style={{ display: 'block' }}\r\n      />\r\n      {/* Canvas overlay for zone and drawing */}\r\n      <canvas\r\n        ref={canvasRef}\r\n        width={VIDEO_WIDTH}\r\n        height={VIDEO_HEIGHT}\r\n        style={{ position: 'absolute', left: 0, top: 0, pointerEvents: 'auto', zIndex: 2 }}\r\n        onMouseDown={handleCanvasMouseDown}\r\n        onMouseMove={handleCanvasMouseMove}\r\n        onMouseUp={handleCanvasMouseUp}\r\n      />\r\n      {/* Draw Zone Button */}\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        sx={{ position: 'absolute', top: 16, right: 16, zIndex: 3 }}\r\n        onClick={() => { setZone(null); setStartPoint(null); setEndPoint(null); }}\r\n      >\r\n        Draw Zone\r\n      </Button>\r\n      {/* Latest alert overlay */}\r\n      {latestAlert && (\r\n        <Paper\r\n          elevation={6}\r\n          sx={{\r\n            position: 'absolute',\r\n            top: 24,\r\n            left: '50%',\r\n            transform: 'translateX(-50%)',\r\n            bgcolor: latestAlert.type === 'intrusion' ? 'error.main' : 'warning.main',\r\n            color: 'white',\r\n            px: 4,\r\n            py: 2,\r\n            fontSize: 24,\r\n            zIndex: 10,\r\n            minWidth: 320,\r\n            textAlign: 'center',\r\n          }}\r\n        >\r\n          <Typography variant=\"h5\" fontWeight=\"bold\">\r\n            {latestAlert.type === 'intrusion'\r\n              ? `ZONE INTRUSION ALERT!`\r\n              : `LOITERING DETECTED!`}\r\n          </Typography>\r\n          <Typography>\r\n            Person ID: {latestAlert.id}\r\n            {latestAlert.type === 'loitering' && latestAlert.duration\r\n              ? ` (Duration: ${latestAlert.duration}s)`\r\n              : ''}\r\n          </Typography>\r\n          <Typography variant=\"caption\">{latestAlert.time}</Typography>\r\n        </Paper>\r\n      )}\r\n      {/* Alert log at bottom */}\r\n      <Box\r\n        sx={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          bgcolor: 'rgba(0,0,0,0.7)',\r\n          color: 'white',\r\n          px: 2,\r\n          py: 1,\r\n          maxHeight: 120,\r\n          overflowY: 'auto',\r\n        }}\r\n      >\r\n        {alerts.map((alert, idx) => (\r\n          <Typography key={idx} fontSize={14}>\r\n            [{alert.time}] {alert.type === 'intrusion' ? 'Zone intrusion' : 'Loitering'} - Person ID: {alert.id}\r\n            {alert.type === 'loitering' && alert.duration ? ` (Duration: ${alert.duration}s)` : ''}\r\n          </Typography>\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default VideoFeed; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}